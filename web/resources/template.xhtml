<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:cc="http://xmlns.jcp.org/jsf/composite">


    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
        <title>Minha Aplicacao</title>
        <h:outputStylesheet library="css" name="style.css"  />
        <script src="https://use.fontawesome.com/e9ed837cd1.js"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        
        
        <script type="text/javascript">
            google.charts.load('current', {'packages': ['corechart']});
            google.charts.setOnLoadCallback(drawChart);

            function drawChart() {
                var data = google.visualization.arrayToDataTable([
                    ['Dia', 'Clientes novos', 'Clientes Desativados'],
                    ['180', 3, 1],
                    ['150', 2, 3],
                    ['120', 4, 2],
                    ['90', 6, 2],
                    ['60',  5, 1],
                    ['30',  7, 3]
                ]);

                var options = {
                    title: 'Controle de Clientes',
                    curveType: 'function',
                    legend: {position: 'bottom'}
                };

                var chart = new google.visualization.LineChart(document.getElementById('curve_chart1'));
                
                chart.draw(data, options);
            }
            
            
            
            $(window).resize(function(){
                drawChart();
            });
            
            
        </script>
        
        
        
        <script type="text/javascript">
            google.charts.load('current', {'packages': ['corechart']});
            google.charts.setOnLoadCallback(drawChart);

            function drawChart() {
                var data = google.visualization.arrayToDataTable([
                    ['Dia', 'Clientes novos', 'Clientes Desativados'],
                    ['180', 3, 1],
                    ['150', 2, 3],
                    ['120', 4, 2],
                    ['90', 6, 2],
                    ['60',  5, 1],
                    ['30',  7, 3]
                ]);

                var options = {
                    title: 'Controle de Clientes',
                    curveType: 'function',
                    legend: {position: 'bottom'}
                };

                var chart = new google.visualization.LineChart(document.getElementById('curve_chart2'));
                
                chart.draw(data, options);
            }
            
            
            
            $(window).resize(function(){
                drawChart();
            });
            
            
        </script>
        
        
    </h:head>
    <h:body rendered="#{usuarioBean.verificarSessao()}">
        <p:layout fullPage="true">
            
            <p:layoutUnit  position="north">
                <center>
                    <h1>#{titulo}</h1>
                </center>
            </p:layoutUnit>
            
            <p:layoutUnit  position="west" collapsible="true" header="Menu">
                <h:form id="form-menu">
                    <p:menu toggleable="true">
                        <p:menuitem value="Home" outcome="home" icon="fa fa-home" />
                        <p:submenu label="Controle">
                            <p:menuitem value="UsuÃÂ¡rios" outcome="usuarios" icon="fa fa-user" />
                            <p:menuitem value="Clientes" outcome="clientes" icon="fa fa-smile-o" />
                            <p:menuitem value="Outros" outcome="home" icon="fa fa-bookmark-o" />
                        </p:submenu>
                    </p:menu>
                </h:form>
            </p:layoutUnit>
                        
        
        
        <p:layoutUnit position="center">
            <table width="100%" border="0">
                <tr>
                    <td>
                        <ui:insert name="conteudo"/>
                    </td>
                </tr>
            </table>
        </p:layoutUnit>
        
</p:layout>
    </h:body>
    
    
    <p:confirmDialog id="usuarioLogout" widgetVar="usuarioLogoutDialog" header="Logout" 
                     message="Deseja realmente sair #{clienteBean.selectedObj.nomeCliente}?" severity="alert" >
        <h:form id="formLogout">
            <p:commandButton value="Sim" icon="ui-icon-check"
                             action="#{usuarioBean.encerrarSessao()}"
                             oncomplete="PF('usuarioLogoutDialog').hide()"/>
            <p:commandButton value="NÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂÃÂ£o" icon="ui-icon-closethick"
                             oncomplete="PF('usuarioLogoutDialog').hide()"
                             immediate="true"/>
        </h:form>
    </p:confirmDialog>
</html>

